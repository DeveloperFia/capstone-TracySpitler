var __bind=function(a,b){return function(){return a.apply(b,arguments)}};(function(b){var a;a=(function(){function c(d){this.tick=__bind(this.tick,this);this.bpm=d;this.events={};this.interval=null;this.running=false;return}c.prototype.on=function(d,e){if(!this.events[d]){this.events[d]=[]}this.events[d].push(e);return e};c.prototype.fire=function(f,e){var h,d,g;if(e==null){e=[]}if(!this.events[f]){this.events[f]=[]}g=this.events[f];for(h=0,d=g.length;h<d;h++){f=g[h];f.apply(this,e)}return this.events[f]};c.prototype.set=function(e,f){var d;if(f==null){f=true}d=this.bpm;this.bpm=e;this.fire("bpm",[d,e]);if(f&&this.running){this.stop();this.start()}return e};c.prototype.bpmToMillisecondsInterval=function(d){return 1/(d/(60*1000))};c.prototype.start=function(){this.fire("start");clearInterval(this.interval);this.interval=setInterval(this.tick,this.bpmToMillisecondsInterval(this.bpm));this.running=true;return this.bpm};c.prototype.stop=function(){this.fire("stop");clearInterval(this.interval);this.running=false};c.prototype.tick=function(){this.fire("tick")};return c})();return b.Pendulum=a})(typeof exports!=="undefined"&&exports!==null?exports:this);
